(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/waveWorker.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/waveWorker.js":
/*!***************************!*\
  !*** ./src/waveWorker.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\n\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\n\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\n\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\n\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\n\nfunction _createSuper(t) { var r = _isNativeReflectConstruct(); return function () { var e, o = _getPrototypeOf(t); if (r) { var s = _getPrototypeOf(this).constructor; e = Reflect.construct(o, arguments, s); } else e = o.apply(this, arguments); return _possibleConstructorReturn(this, e); }; }\n\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\n\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\n\nfunction _wrapNativeSuper(t) { var r = \"function\" == typeof Map ? new Map() : void 0; return _wrapNativeSuper = function _wrapNativeSuper(t) { if (null === t || !_isNativeFunction(t)) return t; if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\"); if (void 0 !== r) { if (r.has(t)) return r.get(t); r.set(t, Wrapper); } function Wrapper() { return _construct(t, arguments, _getPrototypeOf(this).constructor); } return Wrapper.prototype = Object.create(t.prototype, { constructor: { value: Wrapper, enumerable: !1, writable: !0, configurable: !0 } }), _setPrototypeOf(Wrapper, t); }, _wrapNativeSuper(t); }\n\nfunction _construct(t, e, r) { if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments); var o = [null]; o.push.apply(o, e); var p = new (t.bind.apply(t, o))(); return r && _setPrototypeOf(p, r.prototype), p; }\n\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n\nfunction _isNativeFunction(t) { try { return -1 !== Function.toString.call(t).indexOf(\"[native code]\"); } catch (n) { return \"function\" == typeof t; } }\n\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\n\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\n\nfunction atob(input) {\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  var str = input.replace(/=+$/, '');\n  var output = '';\n\n  if (str.length % 4 === 1) {\n    throw new Error(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n\n  for (var bc = 0, bs = 0, buffer, i = 0; buffer = str.charAt(i++); ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer, bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {\n    buffer = chars.indexOf(buffer);\n  }\n\n  return output;\n}\n\nvar WavePCM = function WavePCM(config) {\n  var config = Object.assign({\n    wavBitDepth: 16,\n    numberOfChannels: 1\n  }, config);\n\n  if (!config['wavSampleRate']) {\n    throw new Error(\"wavSampleRate value is required to record. NOTE: Audio is not resampled!\");\n  }\n\n  if ([8, 16, 24, 32].indexOf(config['wavBitDepth']) === -1) {\n    throw new Error(\"Only 8, 16, 24 and 32 bits per sample are supported\");\n  }\n\n  this.numberOfChannels = config['numberOfChannels'];\n  this.bitDepth = config['wavBitDepth'];\n  this.sampleRate = config['wavSampleRate'];\n  this.recordedBuffers = [];\n  this.bytesPerSample = this.bitDepth / 8;\n};\n\nWavePCM.prototype.record = function (buffers) {\n  var bufferLength = buffers[0].length;\n  var reducedData = new Uint8Array(bufferLength * this.numberOfChannels * this.bytesPerSample); // Interleave\n\n  for (var i = 0; i < bufferLength; i++) {\n    for (var channel = 0; channel < this.numberOfChannels; channel++) {\n      var outputIndex = (i * this.numberOfChannels + channel) * this.bytesPerSample; // clip the signal if it exceeds [-1, 1]\n\n      var sample = Math.max(-1, Math.min(1, buffers[channel][i])); // bit reduce and convert to integer\n\n      switch (this.bytesPerSample) {\n        case 4:\n          // 32 bits signed\n          sample = sample * 2147483647.5 - 0.5;\n          reducedData[outputIndex] = sample;\n          reducedData[outputIndex + 1] = sample >> 8;\n          reducedData[outputIndex + 2] = sample >> 16;\n          reducedData[outputIndex + 3] = sample >> 24;\n          break;\n\n        case 3:\n          // 24 bits signed\n          sample = sample * 8388607.5 - 0.5;\n          reducedData[outputIndex] = sample;\n          reducedData[outputIndex + 1] = sample >> 8;\n          reducedData[outputIndex + 2] = sample >> 16;\n          break;\n\n        case 2:\n          // 16 bits signed\n          sample = sample * 32767.5 - 0.5;\n          reducedData[outputIndex] = sample;\n          reducedData[outputIndex + 1] = sample >> 8;\n          break;\n\n        case 1:\n          // 8 bits unsigned\n          reducedData[outputIndex] = (sample + 1) * 127.5;\n          break;\n\n        default:\n          throw new Error(\"Only 8, 16, 24 and 32 bits per sample are supported\");\n      }\n    }\n  }\n\n  this.recordedBuffers.push(reducedData);\n};\n\nWavePCM.prototype.requestData = function () {\n  var bufferLength = this.recordedBuffers[0].length;\n  var dataLength = this.recordedBuffers.length * bufferLength;\n  var headerLength = 44;\n  var wav = new Uint8Array(headerLength + dataLength);\n  var view = new DataView(wav.buffer);\n  view.setUint32(0, 1380533830, false); // RIFF identifier 'RIFF'\n\n  view.setUint32(4, 36 + dataLength, true); // file length minus RIFF identifier length and file description length\n\n  view.setUint32(8, 1463899717, false); // RIFF type 'WAVE'\n\n  view.setUint32(12, 1718449184, false); // format chunk identifier 'fmt '\n\n  view.setUint32(16, 16, true); // format chunk length\n\n  view.setUint16(20, 1, true); // sample format (raw)\n\n  view.setUint16(22, this.numberOfChannels, true); // channel count\n\n  view.setUint32(24, this.sampleRate, true); // sample rate\n\n  view.setUint32(28, this.sampleRate * this.bytesPerSample * this.numberOfChannels, true); // byte rate (sample rate * block align)\n\n  view.setUint16(32, this.bytesPerSample * this.numberOfChannels, true); // block align (channel count * bytes per sample)\n\n  view.setUint16(34, this.bitDepth, true); // bits per sample\n\n  view.setUint32(36, 1684108385, false); // data chunk identifier 'data'\n\n  view.setUint32(40, dataLength, true); // data chunk length\n\n  for (var i = 0; i < this.recordedBuffers.length; i++) {\n    wav.set(this.recordedBuffers[i], i * bufferLength + headerLength);\n  }\n\n  return {\n    message: 'page',\n    page: wav\n  };\n}; // Run in AudioWorkletGlobal scope\n\n\nif (typeof registerProcessor === 'function') {\n  var EncoderWorklet = /*#__PURE__*/function (_AudioWorkletProcesso) {\n    _inherits(EncoderWorklet, _AudioWorkletProcesso);\n\n    var _super = _createSuper(EncoderWorklet);\n\n    function EncoderWorklet() {\n      var _this;\n\n      _classCallCheck(this, EncoderWorklet);\n\n      _this = _super.call(this);\n      _this.continueProcess = true;\n\n      _this.port.onmessage = function (_ref) {\n        var data = _ref.data;\n\n        switch (data['command']) {\n          case 'done':\n            if (_this.recorder) {\n              _this.postPage(_this.recorder.requestData());\n\n              _this.port.postMessage({\n                message: 'done'\n              });\n\n              delete _this.recorder;\n            }\n\n            break;\n\n          case 'close':\n            _this.continueProcess = false;\n            break;\n\n          case 'init':\n            _this.recorder = new WavePCM(data);\n\n            _this.port.postMessage({\n              message: 'ready'\n            });\n\n            break;\n\n          default: // Ignore any unknown commands and continue recieving commands\n\n        }\n      };\n\n      return _this;\n    }\n\n    _createClass(EncoderWorklet, [{\n      key: \"process\",\n      value: function process(inputs) {\n        if (this.recorder && inputs[0] && inputs[0].length && inputs[0][0] && inputs[0][0].length) {\n          this.recorder.record(inputs[0]);\n        }\n\n        return this.continueProcess;\n      }\n    }, {\n      key: \"postPage\",\n      value: function postPage(pageData) {\n        if (pageData) {\n          this.port.postMessage(pageData, [pageData.page.buffer]);\n        }\n      }\n    }]);\n\n    return EncoderWorklet;\n  }( /*#__PURE__*/_wrapNativeSuper(AudioWorkletProcessor));\n\n  registerProcessor('encoder-worklet', EncoderWorklet);\n} // run in scriptProcessor worker scope\nelse {\n  var recorder;\n\n  var postPageGlobal = function postPageGlobal(pageData) {\n    if (pageData) {\n      postMessage(pageData, [pageData.page.buffer]);\n    }\n  };\n\n  onmessage = function onmessage(_ref2) {\n    var data = _ref2.data;\n\n    switch (data['command']) {\n      case 'encode':\n        if (recorder) {\n          recorder.record(data['buffers']);\n        }\n\n        break;\n\n      case 'done':\n        if (recorder) {\n          postPageGlobal(recorder.requestData());\n          postMessage({\n            message: 'done'\n          });\n          recorder = null;\n        }\n\n        break;\n\n      case 'close':\n        close();\n        break;\n\n      case 'init':\n        recorder = new WavePCM(data);\n        postMessage({\n          message: 'ready'\n        });\n        break;\n\n      default: // Ignore any unknown commands and continue recieving commands\n\n    }\n  };\n} // Exports for unit testing.\n\n\nvar module = module || {};\nmodule.exports = WavePCM;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvd2F2ZVdvcmtlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy93YXZlV29ya2VyLmpzPzA3NTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBhdG9iKGlucHV0KSB7XG4gIGNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbiAgbGV0IHN0ciA9IGlucHV0LnJlcGxhY2UoLz0rJC8sICcnKTtcbiAgbGV0IG91dHB1dCA9ICcnO1xuXG4gIGlmIChzdHIubGVuZ3RoICUgNCA9PT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIidhdG9iJyBmYWlsZWQ6IFRoZSBzdHJpbmcgdG8gYmUgZGVjb2RlZCBpcyBub3QgY29ycmVjdGx5IGVuY29kZWQuXCIpO1xuICB9XG5cbiAgZm9yIChsZXQgYmMgPSAwLCBicyA9IDAsIGJ1ZmZlciwgaSA9IDA7IGJ1ZmZlciA9IHN0ci5jaGFyQXQoaSsrKTsgfmJ1ZmZlciAmJlxuICAgIChicyA9IGJjICUgNCA/IGJzICogNjQgKyBidWZmZXIgOiBidWZmZXIsXG4gICAgICBiYysrICUgNCkgPyBvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUgJiBicyA+PiAoLTIgKiBiYyAmIDYpKSA6IDBcbiAgKSB7XG4gICAgYnVmZmVyID0gY2hhcnMuaW5kZXhPZihidWZmZXIpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbmNvbnN0IFdhdmVQQ00gPSBmdW5jdGlvbiAoY29uZmlnKSB7XG5cbiAgdmFyIGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIHdhdkJpdERlcHRoOiAxNixcbiAgICBudW1iZXJPZkNoYW5uZWxzOiAxLFxuICB9LCBjb25maWcpO1xuXG4gIGlmICghY29uZmlnWyd3YXZTYW1wbGVSYXRlJ10pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ3YXZTYW1wbGVSYXRlIHZhbHVlIGlzIHJlcXVpcmVkIHRvIHJlY29yZC4gTk9URTogQXVkaW8gaXMgbm90IHJlc2FtcGxlZCFcIik7XG4gIH1cblxuICBpZiAoWzgsIDE2LCAyNCwgMzJdLmluZGV4T2YoY29uZmlnWyd3YXZCaXREZXB0aCddKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IDgsIDE2LCAyNCBhbmQgMzIgYml0cyBwZXIgc2FtcGxlIGFyZSBzdXBwb3J0ZWRcIik7XG4gIH1cblxuICB0aGlzLm51bWJlck9mQ2hhbm5lbHMgPSBjb25maWdbJ251bWJlck9mQ2hhbm5lbHMnXTtcbiAgdGhpcy5iaXREZXB0aCA9IGNvbmZpZ1snd2F2Qml0RGVwdGgnXTtcbiAgdGhpcy5zYW1wbGVSYXRlID0gY29uZmlnWyd3YXZTYW1wbGVSYXRlJ107XG4gIHRoaXMucmVjb3JkZWRCdWZmZXJzID0gW107XG4gIHRoaXMuYnl0ZXNQZXJTYW1wbGUgPSB0aGlzLmJpdERlcHRoIC8gODtcbn07XG5cbldhdmVQQ00ucHJvdG90eXBlLnJlY29yZCA9IGZ1bmN0aW9uIChidWZmZXJzKSB7XG4gIHZhciBidWZmZXJMZW5ndGggPSBidWZmZXJzWzBdLmxlbmd0aDtcbiAgdmFyIHJlZHVjZWREYXRhID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyTGVuZ3RoICogdGhpcy5udW1iZXJPZkNoYW5uZWxzICogdGhpcy5ieXRlc1BlclNhbXBsZSk7XG5cbiAgLy8gSW50ZXJsZWF2ZVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlckxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCB0aGlzLm51bWJlck9mQ2hhbm5lbHM7IGNoYW5uZWwrKykge1xuXG4gICAgICB2YXIgb3V0cHV0SW5kZXggPSAoaSAqIHRoaXMubnVtYmVyT2ZDaGFubmVscyArIGNoYW5uZWwpICogdGhpcy5ieXRlc1BlclNhbXBsZTtcblxuICAgICAgLy8gY2xpcCB0aGUgc2lnbmFsIGlmIGl0IGV4Y2VlZHMgWy0xLCAxXVxuICAgICAgdmFyIHNhbXBsZSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBidWZmZXJzW2NoYW5uZWxdW2ldKSk7XG5cbiAgICAgIC8vIGJpdCByZWR1Y2UgYW5kIGNvbnZlcnQgdG8gaW50ZWdlclxuICAgICAgc3dpdGNoICh0aGlzLmJ5dGVzUGVyU2FtcGxlKSB7XG4gICAgICAgIGNhc2UgNDogLy8gMzIgYml0cyBzaWduZWRcbiAgICAgICAgICBzYW1wbGUgPSBzYW1wbGUgKiAyMTQ3NDgzNjQ3LjUgLSAwLjU7XG4gICAgICAgICAgcmVkdWNlZERhdGFbb3V0cHV0SW5kZXhdID0gc2FtcGxlO1xuICAgICAgICAgIHJlZHVjZWREYXRhW291dHB1dEluZGV4ICsgMV0gPSBzYW1wbGUgPj4gODtcbiAgICAgICAgICByZWR1Y2VkRGF0YVtvdXRwdXRJbmRleCArIDJdID0gc2FtcGxlID4+IDE2O1xuICAgICAgICAgIHJlZHVjZWREYXRhW291dHB1dEluZGV4ICsgM10gPSBzYW1wbGUgPj4gMjQ7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzOiAvLyAyNCBiaXRzIHNpZ25lZFxuICAgICAgICAgIHNhbXBsZSA9IHNhbXBsZSAqIDgzODg2MDcuNSAtIDAuNTtcbiAgICAgICAgICByZWR1Y2VkRGF0YVtvdXRwdXRJbmRleF0gPSBzYW1wbGU7XG4gICAgICAgICAgcmVkdWNlZERhdGFbb3V0cHV0SW5kZXggKyAxXSA9IHNhbXBsZSA+PiA4O1xuICAgICAgICAgIHJlZHVjZWREYXRhW291dHB1dEluZGV4ICsgMl0gPSBzYW1wbGUgPj4gMTY7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAyOiAvLyAxNiBiaXRzIHNpZ25lZFxuICAgICAgICAgIHNhbXBsZSA9IHNhbXBsZSAqIDMyNzY3LjUgLSAwLjU7XG4gICAgICAgICAgcmVkdWNlZERhdGFbb3V0cHV0SW5kZXhdID0gc2FtcGxlO1xuICAgICAgICAgIHJlZHVjZWREYXRhW291dHB1dEluZGV4ICsgMV0gPSBzYW1wbGUgPj4gODtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE6IC8vIDggYml0cyB1bnNpZ25lZFxuICAgICAgICAgIHJlZHVjZWREYXRhW291dHB1dEluZGV4XSA9IChzYW1wbGUgKyAxKSAqIDEyNy41O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSA4LCAxNiwgMjQgYW5kIDMyIGJpdHMgcGVyIHNhbXBsZSBhcmUgc3VwcG9ydGVkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMucmVjb3JkZWRCdWZmZXJzLnB1c2gocmVkdWNlZERhdGEpO1xufTtcblxuV2F2ZVBDTS5wcm90b3R5cGUucmVxdWVzdERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBidWZmZXJMZW5ndGggPSB0aGlzLnJlY29yZGVkQnVmZmVyc1swXS5sZW5ndGg7XG4gIHZhciBkYXRhTGVuZ3RoID0gdGhpcy5yZWNvcmRlZEJ1ZmZlcnMubGVuZ3RoICogYnVmZmVyTGVuZ3RoO1xuICB2YXIgaGVhZGVyTGVuZ3RoID0gNDQ7XG4gIHZhciB3YXYgPSBuZXcgVWludDhBcnJheShoZWFkZXJMZW5ndGggKyBkYXRhTGVuZ3RoKTtcbiAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcod2F2LmJ1ZmZlcik7XG5cbiAgdmlldy5zZXRVaW50MzIoMCwgMTM4MDUzMzgzMCwgZmFsc2UpOyAvLyBSSUZGIGlkZW50aWZpZXIgJ1JJRkYnXG4gIHZpZXcuc2V0VWludDMyKDQsIDM2ICsgZGF0YUxlbmd0aCwgdHJ1ZSk7IC8vIGZpbGUgbGVuZ3RoIG1pbnVzIFJJRkYgaWRlbnRpZmllciBsZW5ndGggYW5kIGZpbGUgZGVzY3JpcHRpb24gbGVuZ3RoXG4gIHZpZXcuc2V0VWludDMyKDgsIDE0NjM4OTk3MTcsIGZhbHNlKTsgLy8gUklGRiB0eXBlICdXQVZFJ1xuICB2aWV3LnNldFVpbnQzMigxMiwgMTcxODQ0OTE4NCwgZmFsc2UpOyAvLyBmb3JtYXQgY2h1bmsgaWRlbnRpZmllciAnZm10ICdcbiAgdmlldy5zZXRVaW50MzIoMTYsIDE2LCB0cnVlKTsgLy8gZm9ybWF0IGNodW5rIGxlbmd0aFxuICB2aWV3LnNldFVpbnQxNigyMCwgMSwgdHJ1ZSk7IC8vIHNhbXBsZSBmb3JtYXQgKHJhdylcbiAgdmlldy5zZXRVaW50MTYoMjIsIHRoaXMubnVtYmVyT2ZDaGFubmVscywgdHJ1ZSk7IC8vIGNoYW5uZWwgY291bnRcbiAgdmlldy5zZXRVaW50MzIoMjQsIHRoaXMuc2FtcGxlUmF0ZSwgdHJ1ZSk7IC8vIHNhbXBsZSByYXRlXG4gIHZpZXcuc2V0VWludDMyKDI4LCB0aGlzLnNhbXBsZVJhdGUgKiB0aGlzLmJ5dGVzUGVyU2FtcGxlICogdGhpcy5udW1iZXJPZkNoYW5uZWxzLCB0cnVlKTsgLy8gYnl0ZSByYXRlIChzYW1wbGUgcmF0ZSAqIGJsb2NrIGFsaWduKVxuICB2aWV3LnNldFVpbnQxNigzMiwgdGhpcy5ieXRlc1BlclNhbXBsZSAqIHRoaXMubnVtYmVyT2ZDaGFubmVscywgdHJ1ZSk7IC8vIGJsb2NrIGFsaWduIChjaGFubmVsIGNvdW50ICogYnl0ZXMgcGVyIHNhbXBsZSlcbiAgdmlldy5zZXRVaW50MTYoMzQsIHRoaXMuYml0RGVwdGgsIHRydWUpOyAvLyBiaXRzIHBlciBzYW1wbGVcbiAgdmlldy5zZXRVaW50MzIoMzYsIDE2ODQxMDgzODUsIGZhbHNlKTsgLy8gZGF0YSBjaHVuayBpZGVudGlmaWVyICdkYXRhJ1xuICB2aWV3LnNldFVpbnQzMig0MCwgZGF0YUxlbmd0aCwgdHJ1ZSk7IC8vIGRhdGEgY2h1bmsgbGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlY29yZGVkQnVmZmVycy5sZW5ndGg7IGkrKykge1xuICAgIHdhdi5zZXQodGhpcy5yZWNvcmRlZEJ1ZmZlcnNbaV0sIGkgKiBidWZmZXJMZW5ndGggKyBoZWFkZXJMZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHsgbWVzc2FnZTogJ3BhZ2UnLCBwYWdlOiB3YXYgfTtcbn07XG5cblxuLy8gUnVuIGluIEF1ZGlvV29ya2xldEdsb2JhbCBzY29wZVxuaWYgKHR5cGVvZiByZWdpc3RlclByb2Nlc3NvciA9PT0gJ2Z1bmN0aW9uJykge1xuXG4gIGNsYXNzIEVuY29kZXJXb3JrbGV0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuY29udGludWVQcm9jZXNzID0gdHJ1ZTtcbiAgICAgIHRoaXMucG9ydC5vbm1lc3NhZ2UgPSAoeyBkYXRhIH0pID0+IHtcbiAgICAgICAgc3dpdGNoIChkYXRhWydjb21tYW5kJ10pIHtcblxuICAgICAgICAgIGNhc2UgJ2RvbmUnOlxuICAgICAgICAgICAgaWYgKHRoaXMucmVjb3JkZXIpIHtcbiAgICAgICAgICAgICAgdGhpcy5wb3N0UGFnZSh0aGlzLnJlY29yZGVyLnJlcXVlc3REYXRhKCkpO1xuICAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoeyBtZXNzYWdlOiAnZG9uZScgfSk7XG4gICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlY29yZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgICAgICB0aGlzLmNvbnRpbnVlUHJvY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICAgIHRoaXMucmVjb3JkZXIgPSBuZXcgV2F2ZVBDTShkYXRhKTtcbiAgICAgICAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IG1lc3NhZ2U6ICdyZWFkeScgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gSWdub3JlIGFueSB1bmtub3duIGNvbW1hbmRzIGFuZCBjb250aW51ZSByZWNpZXZpbmcgY29tbWFuZHNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByb2Nlc3MoaW5wdXRzKSB7XG4gICAgICBpZiAodGhpcy5yZWNvcmRlciAmJiBpbnB1dHNbMF0gJiYgaW5wdXRzWzBdLmxlbmd0aCAmJiBpbnB1dHNbMF1bMF0gJiYgaW5wdXRzWzBdWzBdLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJlY29yZGVyLnJlY29yZChpbnB1dHNbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuY29udGludWVQcm9jZXNzO1xuICAgIH1cblxuICAgIHBvc3RQYWdlKHBhZ2VEYXRhKSB7XG4gICAgICBpZiAocGFnZURhdGEpIHtcbiAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHBhZ2VEYXRhLCBbcGFnZURhdGEucGFnZS5idWZmZXJdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZWdpc3RlclByb2Nlc3NvcignZW5jb2Rlci13b3JrbGV0JywgRW5jb2RlcldvcmtsZXQpO1xufVxuXG4vLyBydW4gaW4gc2NyaXB0UHJvY2Vzc29yIHdvcmtlciBzY29wZVxuZWxzZSB7XG4gIHZhciByZWNvcmRlcjtcbiAgdmFyIHBvc3RQYWdlR2xvYmFsID0gKHBhZ2VEYXRhKSA9PiB7XG4gICAgaWYgKHBhZ2VEYXRhKSB7XG4gICAgICBwb3N0TWVzc2FnZShwYWdlRGF0YSwgW3BhZ2VEYXRhLnBhZ2UuYnVmZmVyXSk7XG4gICAgfVxuICB9XG5cbiAgb25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XG5cbiAgICBzd2l0Y2ggKGRhdGFbJ2NvbW1hbmQnXSkge1xuXG4gICAgICBjYXNlICdlbmNvZGUnOlxuICAgICAgICBpZiAocmVjb3JkZXIpIHtcbiAgICAgICAgICByZWNvcmRlci5yZWNvcmQoZGF0YVsnYnVmZmVycyddKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZG9uZSc6XG4gICAgICAgIGlmIChyZWNvcmRlcikge1xuICAgICAgICAgIHBvc3RQYWdlR2xvYmFsKHJlY29yZGVyLnJlcXVlc3REYXRhKCkpO1xuICAgICAgICAgIHBvc3RNZXNzYWdlKHsgbWVzc2FnZTogJ2RvbmUnIH0pO1xuICAgICAgICAgIHJlY29yZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICBjbG9zZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgIHJlY29yZGVyID0gbmV3IFdhdmVQQ00oZGF0YSk7XG4gICAgICAgIHBvc3RNZXNzYWdlKHsgbWVzc2FnZTogJ3JlYWR5JyB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAvLyBJZ25vcmUgYW55IHVua25vd24gY29tbWFuZHMgYW5kIGNvbnRpbnVlIHJlY2lldmluZyBjb21tYW5kc1xuICAgIH1cbiAgfTtcbn1cblxuXG4vLyBFeHBvcnRzIGZvciB1bml0IHRlc3RpbmcuXG52YXIgbW9kdWxlID0gbW9kdWxlIHx8IHt9O1xubW9kdWxlLmV4cG9ydHMgPSBXYXZlUENNO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNCQTtBQTZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBc0JBO0FBQ0E7QUEzQkE7QUEyQkE7QUFDQTtBQWhDQTtBQUFBO0FBQUE7QUFrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBdENBO0FBQUE7QUFBQTtBQXlDQTtBQUNBO0FBQ0E7QUFDQTtBQTVDQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBOENBO0FBQ0E7QUFoREE7QUFvREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExQkE7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/waveWorker.js\n");

/***/ })

/******/ });
});